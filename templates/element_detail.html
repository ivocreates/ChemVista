{% extends "base.html" %}

{% block title %}{{ element.name }} ({{ element.symbol }}) - Element Details{% endblock %}

{% block content %}
<div class="container py-4">
    <!-- Breadcrumb -->
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{{ url_for('index') }}">Home</a></li>
            <li class="breadcrumb-item active">{{ element.name }}</li>
        </ol>
    </nav>

    <!-- Element Header -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card element-header shadow-lg">
                <div class="card-body">
                    <div class="row align-items-center">
                        <div class="col-md-3 text-center">
                            <div class="element-tile {{ element.metallic_character.lower().replace(' ', '-').replace('(', '').replace(')', '') }}">
                                <div class="atomic-number">{{ element.atomic_number }}</div>
                                <div class="symbol">{{ element.symbol }}</div>
                                <div class="name">{{ element.name }}</div>
                                <div class="mass">{{ element.atomic_mass }}</div>
                            </div>
                        </div>
                        <div class="col-md-9">
                            <h1 class="display-4 fw-bold mb-2">{{ element.name }}</h1>
                            <h3 class="text-muted mb-3">Symbol: {{ element.symbol }} | Atomic Number: {{ element.atomic_number }}</h3>
                            <p class="lead">{{ element.description }}</p>
                            <div class="element-badges">
                                <span class="badge bg-primary fs-6 me-2">{{ element.metallic_character }}</span>
                                <span class="badge bg-secondary fs-6 me-2">{{ element.physical_state }}</span>
                                <span class="badge bg-info fs-6">{{ element.block }}-block</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Element Properties -->
    <div class="row g-4">
        <!-- Basic Properties -->
        <div class="col-lg-6">
            <div class="card h-100 shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h4 class="card-title mb-0">
                        <i class="fas fa-info-circle me-2"></i>Basic Properties
                    </h4>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-6">
                            <div class="property-item">
                                <label class="property-label">Atomic Number</label>
                                <div class="property-value">{{ element.atomic_number }}</div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="property-item">
                                <label class="property-label">Atomic Mass</label>
                                <div class="property-value">{{ element.atomic_mass }} u</div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="property-item">
                                <label class="property-label">Group</label>
                                <div class="property-value">{{ element.group }}</div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="property-item">
                                <label class="property-label">Period</label>
                                <div class="property-value">{{ element.period }}</div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="property-item">
                                <label class="property-label">Electron Configuration</label>
                                <div class="property-value electron-config">{{ element.electron_configuration }}</div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="property-item">
                                <label class="property-label">Block</label>
                                <div class="property-value">{{ element.block }}-block</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Physical Properties -->
        <div class="col-lg-6">
            <div class="card h-100 shadow-sm">
                <div class="card-header bg-success text-white">
                    <h4 class="card-title mb-0">
                        <i class="fas fa-thermometer-half me-2"></i>Physical Properties
                    </h4>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-12">
                            <div class="property-item">
                                <label class="property-label">Physical State</label>
                                <div class="property-value">
                                    <span class="state-badge state-{{ element.physical_state.lower() }}">
                                        {% if element.physical_state == 'Gas' %}
                                            <i class="fas fa-cloud me-1"></i>
                                        {% elif element.physical_state == 'Liquid' %}
                                            <i class="fas fa-tint me-1"></i>
                                        {% else %}
                                            <i class="fas fa-cube me-1"></i>
                                        {% endif %}
                                        {{ element.physical_state }}
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="property-item">
                                <label class="property-label">Melting Point</label>
                                <div class="property-value">{{ element.melting_point }}°C</div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="property-item">
                                <label class="property-label">Boiling Point</label>
                                <div class="property-value">{{ element.boiling_point }}°C</div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="property-item">
                                <label class="property-label">Metallic Character</label>
                                <div class="property-value">{{ element.metallic_character }}</div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="property-item">
                                <label class="property-label">Category</label>
                                <div class="property-value">{{ element.category }}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Discovery Information -->
        <div class="col-lg-6">
            <div class="card h-100 shadow-sm">
                <div class="card-header bg-warning text-dark">
                    <h4 class="card-title mb-0">
                        <i class="fas fa-search me-2"></i>Discovery Information
                    </h4>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-12">
                            <div class="property-item">
                                <label class="property-label">Discovery Year</label>
                                <div class="property-value">
                                    <i class="fas fa-calendar-alt me-2"></i>
                                    {{ element.discovery_year }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="property-item">
                                <label class="property-label">Discovered By</label>
                                <div class="property-value">
                                    <i class="fas fa-user me-2"></i>
                                    {{ element.discovered_by }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chemical Properties -->
        <div class="col-lg-6">
            <div class="card h-100 shadow-sm">
                <div class="card-header bg-info text-white">
                    <h4 class="card-title mb-0">
                        <i class="fas fa-flask me-2"></i>Chemical Properties
                    </h4>
                </div>
                <div class="card-body">
                    <div class="property-item mb-3">
                        <label class="property-label">Common Ionic Forms</label>
                        <div class="property-value">
                            {% for ion in element.ionic_forms %}
                                <span class="badge bg-light text-dark border me-1 mb-1">{{ ion }}</span>
                            {% endfor %}
                        </div>
                    </div>
                    
                    <div class="property-item">
                        <label class="property-label">Isotopes</label>
                        <div class="property-value">
                            <div class="isotope-count mb-2">
                                <strong>Number of Isotopes:</strong> {{ element.isotopes|length }}
                            </div>
                            {% for isotope in element.isotopes %}
                                <div class="isotope-item">
                                    <span class="badge bg-secondary me-1">{{ isotope }}</span>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <div class="row mt-4">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center">
                <a href="{{ url_for('index') }}" class="btn btn-outline-primary">
                    <i class="fas fa-arrow-left me-2"></i>Back to Periodic Table
                </a>
                
                <div class="element-navigation">
                    {% if element.atomic_number > 1 %}
                        <a href="{{ url_for('element_detail', atomic_number=element.atomic_number - 1) }}" 
                           class="btn btn-outline-secondary me-2">
                            <i class="fas fa-chevron-left me-1"></i>Previous
                        </a>
                    {% endif %}
                    
                    {% if element.atomic_number < 18 %}
                        <a href="{{ url_for('element_detail', atomic_number=element.atomic_number + 1) }}" 
                           class="btn btn-outline-secondary">
                            Next<i class="fas fa-chevron-right ms-1"></i>
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_head %}
<style>
.element-tile {
    width: 120px;
    height: 120px;
    border-radius: 15px;
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin: 0 auto;
    position: relative;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

.element-tile .atomic-number {
    font-size: 12px;
    font-weight: bold;
    position: absolute;
    top: 5px;
    left: 8px;
}

.element-tile .symbol {
    font-size: 28px;
    font-weight: bold;
    margin: 10px 0 5px 0;
}

.element-tile .name {
    font-size: 10px;
    text-align: center;
    opacity: 0.9;
}

.element-tile .mass {
    font-size: 9px;
    position: absolute;
    bottom: 5px;
    right: 5px;
    opacity: 0.8;
}

.property-item {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #007bff;
}

.property-label {
    font-weight: 600;
    color: #6c757d;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 5px;
    display: block;
}

.property-value {
    font-size: 1.1rem;
    font-weight: 500;
    color: #212529;
}

.electron-config {
    font-family: 'Courier New', monospace;
    background: #e9ecef;
    padding: 8px;
    border-radius: 4px;
    font-size: 1rem !important;
}

.state-badge {
    padding: 8px 12px;
    border-radius: 20px;
    font-weight: 500;
}

.state-gas { background: linear-gradient(135deg, #74b9ff, #0984e3); color: white; }
.state-liquid { background: linear-gradient(135deg, #00cec9, #00b894); color: white; }
.state-solid { background: linear-gradient(135deg, #636e72, #2d3436); color: white; }

.isotope-item {
    margin-bottom: 5px;
}

.element-badges .badge {
    padding: 8px 12px;
    font-size: 0.8rem;
}

/* Element category colors */
.alkali-metal { background: linear-gradient(135deg, #ff7675, #d63031); }
.alkaline-earth { background: linear-gradient(135deg, #fd79a8, #e84393); }
.metalloid { background: linear-gradient(135deg, #fdcb6e, #e17055); }
.non-metal, .reactive-nonmetal { background: linear-gradient(135deg, #00b894, #00cec9); }
.halogen { background: linear-gradient(135deg, #74b9ff, #0984e3); }
.noble-gas { background: linear-gradient(135deg, #a29bfe, #6c5ce7); }
.post-transition-metal { background: linear-gradient(135deg, #81ecec, #00cec9); }
</style>
{% endblock %}
